# Description
This module provides error handling and reporting capabilities tailored for an Electron based app. See the report-errors module for most of how to use it. 

# Getting the module
This package is published to the vsts internal npm repo. Please refer to their documentation for setting this up. One you are set up, all you need to do is add this package as a dependency and run npm install, as with any other package. 

# Requirements
To use this module, you must be either building ES6 or using type information like ES6-shim. The interface relies on Promises for anything but very basic usage. This type information must be available to the compiler either in a triple slash reference or by giving a type file to the compiler as an input. No additional ambient definitions are needed to use this, but any issues you have with building are likely not having these types available. Don't trust VS Code's type error messages until you get a successful build from the command line and restart it. 
This is tested against Electron 1.X and is likely not compatible with earlier versions. 

# Usage (main)
Because it is tailored for Electron, there is different usage in the main process and in any renderer processes. 

All error reporting is done from the main processes. To enable this, import the `ErrorHandlerMain` class from the module and instantiate it as soon as possible. It will behave almost exactly like the ErrorHandlerNode class in the report-errors package because it extends it. See that package for complete documentation. The api differences mostly have to do with reacting to child process crashes and taking advantageo of Electron APIs that Node alone doesn't provide.

Because Electron requires a package.json file and knows where it is, the user of this package does not need to provide the path to the app root, the app name, or the app version. 
The user can override the exe name to avoid reporting something as Generic as Electron.exe if they have not renamed the binary. 
Like the class it extends, the constructor accepts a callback that lets the user control whether the app crashes or swallows an uncaught exception. Defaults to killing the app. 
The constructor can accept an additional callback that will be called after a child process crash (either JS or native) has been caught and reported, allowing you to decide how to handle it. 

If you do not provide a callback or you return false from this callback, the process that threw the error will be killed. The other windows and main process will be left alone, but the app may exit after all its windows are closed.  

The callback receives three things: the type of the crash (Native vs JS, actual strings available at "report-errors-electron/Constants"), the webContents object of the window that crashed (allows you to kill or reload it) and the error that caused the crash if it was a JS error. 

# Usage (renderer)
Because all of the actual reporting is done in the main process, there is very little to do from the renderer processes. Simply import and instantiate an `ErrorHandlerRenderer` object from "report-errors-electron/renderer" as early as you can in the process. That is it. From that point forward, any JS crashes will be reported to the main process. 

# Contributing
I am open to suggestions, bugfixes, and pull requests. If you want to make a topic branch and develop this, clone the repo , run npm install and typings install, and use gulp to do build and test related tasks. Please make sure "gulp validate-for-publish" succeeds before doing anything else. This lints and builds and copies a few extra files to prepare for publishing. 

To test changes locally, run npm pack from inside the lib folder to make a tgz archive that other packages can use by pointing npm install at it. 